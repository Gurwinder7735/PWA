<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="manifest" href="/manifest.json" crossorigin="use-credentials">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" href="/icon.png">
    <title>Document</title>
</head>
<body>
     
   <a href="javascript:CreateBookmarkLink();">Add to Favorites/Bookmark</a>
   <button id="install">Install</button>
</body>
</html>


<script type="text/javascript">
  
//     var navigator
     
     if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js');
   }
    
    let deferredPrompt;
    
    window.addEventListener('beforeinstallprompt', (e) => {
  // Prevent the mini-infobar from appearing on mobile
//  e.preventDefault();
  // Stash the event so it can be triggered later.
  deferredPrompt = e;
 
});
    
    window.addEventListener('load',(e)=>{
        e.preventDefault();
        console.log('hii')
          deferredPrompt.prompt();
        
    })
    
    let buttonInstall = document.getElementById('install')
    
    buttonInstall.addEventListener('click', async () => {
  // Hide the app provided install promotion
//  hideInstallPromotion();
  // Show the install prompt
  deferredPrompt.prompt();
  // Wait for the user to respond to the prompt
//  const { outcome } = await deferredPrompt.userChoice;
  // Optionally, send analytics event with outcome of user choice
//  console.log(`User response to the install prompt: ${outcome}`);
  // We've used the prompt, and can't use it again, throw it away
//  deferredPrompt = null;
});

</script>
